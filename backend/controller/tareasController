const asyncHandler = require('express-async-handler')
const Tarea = require('../models/tareaModel')

//GET
const getTarea = asyncHandler(async (req,res) => {

    const tareas = await Tarea.find()
    res.status(200).json(tareas)
})

//POST
const crearTarea = asyncHandler(async (req, res) => {
    if(!req.body.texto) {
        res.status(400)
        throw new Error('No escribiste una Descripcion')
    }

    const tarea = await Tarea.create({
        texto: req.body.texto
    })
    res.status(201).json(tarea)
}) // res.send('Obtener Tarea') otra opcion


//PUT
const modificarTarea = asyncHandler(async (req, res) => {
    res.status(200).json({ message: `Se modifico la tarea ${req.params.id}` }) 
}) //cuando se pone el id en la url es PARAM

//DELETE
const deleteTarea = asyncHandler(async (req, res) => {
    res.status(200).json({ message: `Se elimino la tarea ${req.params.id}` }) 
}) //cuando se pone el id en la url es PARAM

module.exports = {
    getTarea,
    crearTarea,
    modificarTarea,
    deleteTarea
}